(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/welcome/welcome"],{"032c":function(e,n,t){"use strict";t.r(n);var r=t("cb3d"),a=t("c40a");for(var o in a)"default"!==o&&function(e){t.d(n,e,(function(){return a[e]}))}(o);t("b5ae");var c,i=t("f0c5"),u=Object(i["a"])(a["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],c);n["default"]=u.exports},"9e14":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(t("a34a")),a=t("1cba");function o(e){return e&&e.__esModule?e:{default:e}}function c(e,n,t,r,a,o,c){try{var i=e[o](c),u=i.value}catch(s){return void t(s)}i.done?n(u):Promise.resolve(u).then(r,a)}function i(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}var u={data:function(){return{code:"",SessionKey:"",encryptedData:"",iv:"",OpenId:"",nickName:null,gender:0,avatarUrl:null,isCanUse:e.getStorageSync("isCanUse"),userInfomation:{avatarUrl:"",city:"",country:"",gender:"",language:"",nickName:"",province:""}}},methods:{goLogin:function(){var n=i(r.default.mark((function n(){var t;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t=this,e.getStorageSync("encryptedData")){n.next=6;break}return n.next=4,e.getUserProfile({desc:"获取你的名称、头像、地区",success:function(n){"getUserProfile:ok"===n.errMsg?(console.log("uni.getUserProfile",n),e.setStorageSync("encryptedData",n.encryptedData),e.setStorageSync("iv",n.iv),e.setStorageSync("rawData",n.rawData),e.setStorageSync("signature",n.signature),e.setStorageSync("securityStatus",1),e.setStorageSync("userInfo",n.userInfo),wx.login({success:function(t){if(t.code){var r="wxfa6eb206635e4d92",o="570488294950a89f427cb72eede89887",c="https://api.weixin.qq.com/sns/jscode2session?appid="+r+"&secret="+o+"&js_code=JSCODE&grant_type=authorization_code";wx.request({url:c,method:"POST",data:{code:t.code}});var i={avatarUrl:n.userInfo.avatarUrl,code:t.code,nickname:n.userInfo.nickName};(0,a.wechatLogin)(i).then((function(n){"200"==n.code&&e.switchTab({url:"../index/index"})}))}else console.log("登录失败！"+t.errMsg)},fail:function(){console.log("wxLogin失败")}})):e.showToast({title:"授权失败",icon:"error"})},fail:function(e){console.log("userInfo-err",JSON.stringify(e))}});case 4:n.next=9;break;case 6:console.log("已有缓存，直接进入"),e.getStorage({key:"userInfo",success:function(e){t.userInfomation=e.data,console.log("获取成功",e)}}),e.switchTab({url:"../index/index"});case 9:case"end":return n.stop()}}),n,this)})));function t(){return n.apply(this,arguments)}return t}()}};n.default=u}).call(this,t("543d")["default"])},b5ae:function(e,n,t){"use strict";var r=t("e359"),a=t.n(r);a.a},c40a:function(e,n,t){"use strict";t.r(n);var r=t("9e14"),a=t.n(r);for(var o in r)"default"!==o&&function(e){t.d(n,e,(function(){return r[e]}))}(o);n["default"]=a.a},cb3d:function(e,n,t){"use strict";var r;t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return o})),t.d(n,"a",(function(){return r}));var a=function(){var e=this,n=e.$createElement;e._self._c},o=[]},e359:function(e,n,t){},faf7:function(e,n,t){"use strict";(function(e){t("c85f");r(t("66fd"));var n=r(t("032c"));function r(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])}},[["faf7","common/runtime","common/vendor"]]]);